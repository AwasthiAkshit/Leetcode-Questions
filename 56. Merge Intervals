//using heap
class Solution {
    public int[][] merge(int[][] intervals) {
      PriorityQueue<int[]> h = new PriorityQueue<>((a,b)->a[0]-b[0]);
      ArrayList<int[]> arr = new ArrayList<>();
      for(int i=0;i<intervals.length;i++){
        h.add(intervals[i]);
      }
      while(h.size()>1){
        int[] first = h.remove();
        int[] second = h.remove();
        if(first[1]>=second[0]){
            second[0] = first[0];
            second[1] = Math.max(first[1],second[1]);
            h.add(second);
        }
        else{
            arr.add(first);
            h.add(second);

        }
      }
      if(h.size()==1) arr.add(h.remove());
      return arr.toArray(new int[arr.size()][]);
    }
}


//using arraylist
class Solution {
    public int[][] merge(int[][] intervals) {
     Arrays.sort(intervals,(a,b)->a[0]-b[0]);
     ArrayList<int[]> arr = new ArrayList<>();
     arr.add(intervals[0]);
     
      for(int i=1;i<intervals.length;i++){
        int cs = intervals[i][0];
        int ce = intervals[i][1];
        int ps = arr.get(arr.size()-1)[0];
        int pe = arr.get(arr.size()-1)[1];
        if(pe>=cs){
        arr.get(arr.size()-1)[1] = Math.max(pe,ce); 
        }
        else arr.add(intervals[i]);
      }
      return arr.toArray(new int[arr.size()][]);
    }
}
