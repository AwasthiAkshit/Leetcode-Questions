class Solution {
    static int[] par;
    static int[] size;
    private int find(int node){
       if(node==par[node]) return node;
       int leader = find(par[node]);
       par[node] = leader;
       return leader;      
    }
    private void union(int u,int v){
        int lu = find(u);
        int lv = find(v);
        if(lu!=lv){
            if(size[lu]>size[lv]){
                par[lv] = lu;
                size[lu] = size[lu]+size[lv];
            }
            else{
                par[lu] = lv;
                size[lv] = size[lv]+size[lu];
            }

        }
    }
    public int findCircleNum(int[][] isConnected) {
        int n = isConnected.length;
        par = new int[n+1];
        size = new int[n+1];
        par[0] = Integer.MAX_VALUE;
        for(int i=1;i<n+1;i++){
            par[i] = i;
            size[i] = 1;
        }
        for(int i=0;i<n;i++){
            for(int j=0;j<n;j++){
                if(i==j) continue;
                if(isConnected[i][j]==1)union(i+1,j+1);
            }
        }
        int count = 0;
        for(int i=1;i<n+1;i++){
            if(par[i]==i) count++;
        }
        return count;
    }
}
